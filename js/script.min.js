"use strict";function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],i=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(i[0].trim()),o.breakpoint=i[1]?i[1].trim():"767",o.place=i[2]?i[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,i){return Array.prototype.indexOf.call(i,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const i=this.mediaQueries[t],o=String.prototype.split.call(i,","),n=window.matchMedia(o[0]),l=o[1],r=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===l}));n.addListener((function(){e.mediaHandler(n,r)})),this.mediaHandler(n,r)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const i=t[e];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(let e=0;e<t.length;e++){const i=t[e];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},DynamicAdapt.prototype.moveTo=function(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.insertAdjacentElement("beforeend",t):"first"!==e?i.children[e].insertAdjacentElement("beforebegin",t):i.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const i=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(i,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const daa=new DynamicAdapt("max");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}daa.init(),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),new Swiper(".slider__body",{pagination:{el:".swiper-pagination",clickable:!0},simulateTouch:!1,loop:!0,speed:1e3}),new Swiper(".slider-photo__body",{thumbs:{swiper:{el:".pagination-slider-photo__body",slidesPerView:"auto"}}});let recommendationSlider=new Swiper(".recommendation__slider-body",{navigation:{nextEl:".navigation-slide__next",prevEl:".navigation-slide__prev"},slidesPerView:3,watchOverflow:!0,pagination:{el:".recommendation__bullet",clickable:!0},breakpoints:{320:{slidesPerView:1},475:{slidesPerView:2,spaceBetween:20},1180:{slidesPerView:3,spaceBetween:30}}}),recommendationBullet=document.querySelector(".recommendation__bullet");if(recommendationBullet){let e=recommendationSlider.pagination.bullets.length;e<2?recommendationBullet.classList.add("_hidden"):e>=2&&recommendationBullet.classList.remove("_hidden")}const search=document.querySelector(".search__img-link");if(search){const e=document.querySelector(".search__input-adaptive");search.addEventListener("click",(function(t){let i=e.classList.contains("_active");!1===i&&e.classList.add("_active"),!0===i&&e.classList.remove("_active")}))}const menuIconOpen=document.querySelector(".menu-icon"),adaptiveMenu=document.querySelector(".adaptive-menu__body"),menuIconClose=document.querySelector(".adaptive-menu__close");menuIconOpen&&menuIconOpen.addEventListener("click",(function(e){adaptiveMenu.classList.toggle("_active"),document.body.classList.toggle("_lock")})),menuIconClose&&menuIconClose.addEventListener("click",(function(e){adaptiveMenu.classList.toggle("_active"),document.body.classList.toggle("_lock")})),adaptiveMenu.addEventListener("click",(function(e){e.target.closest(".adaptive-menu__wrapper")||(adaptiveMenu.classList.toggle("_active"),document.body.classList.toggle("_lock"))}));const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?document.body.classList.add("_touch"):document.body.classList.add("_pc");let money=document.querySelector(".money"),products=document.querySelectorAll(".product");if(products.length>0)for(let e=0;e<products.length;e++){products[e].innerText="5"}money.innerText="10235";let services=document.querySelector(".services__body"),servicesTitleLink=document.querySelector(".services__title");if(servicesTitleLink&&servicesTitleLink.addEventListener("click",(function(e){localStorage.id=0})),services){let e=services.querySelectorAll(".services__item");if(e.length>0)for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(e){localStorage.id=t,document.location.href="service.html"}))}}let accessories=document.querySelectorAll(".accessories-list__item");if(accessories.length>0){function accessoriesWidthElement(){let e=document.querySelector(".accessories-list").offsetWidth;if(e>768)for(let t=0;t<accessories.length;t++)accessories[t].style.maxWidth=(e-80)/4+"px";else if(e<=768&&e>604)for(let t=0;t<accessories.length;t++)accessories[t].style.maxWidth=(e-60)/3+"px";else if(e<=604&&e>395)for(let t=0;t<accessories.length;t++)accessories[t].style.maxWidth=(e-40)/2+"px";else if(e<=395)for(let t=0;t<accessories.length;t++)accessories[t].style.maxWidth=(e-20)/2+"px"}setInterval(accessoriesWidthElement,100)}let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)},infoRecallText=document.querySelectorAll(".info-recall__text"),infoRecallButton=document.querySelectorAll(".info-recall__button");if(infoRecallText.length>0)for(let e=0;e<infoRecallText.length;e++){infoRecallText[e].offsetHeight>52&&(infoRecallText[e].classList.toggle("_adaptiv"),infoRecallButton[e].classList.toggle("_adaptiv"),infoRecallButton[e].addEventListener("click",(function(t){infoRecallText[e].classList.toggle("_active"),infoRecallButton[e].classList.toggle("_active")})))}let contentListSubtitle=document.querySelectorAll(".content-list__subtitle"),contentListText=document.querySelectorAll(".content-list__text"),contentListItem=document.querySelectorAll(".content-list__item");if(contentListSubtitle.length>0)for(let e=0;e<contentListSubtitle.length;e++){contentListSubtitle[e].addEventListener("click",(function(t){contentListItem[e].classList.toggle("_active")}))}let SIC=document.querySelector(".service-information__conteiner"),serviceTable=document.querySelectorAll(".service-table"),servicesTitle=document.querySelector(".service-information__title"),memoryCheck=void 0;if(SIC){let e=SIC.querySelectorAll(".services__item");if(e.length>0){e[localStorage.id].classList.add("_check"),serviceTable[localStorage.id].classList.add("_check"),servicesTitle.innerHTML=e[localStorage.id].textContent,memoryCheck=localStorage.id;for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(i){serviceTable.length>0&&(memoryCheck>=0&&serviceTable[memoryCheck].classList.remove("_check"),serviceTable[t].classList.add("_check")),memoryCheck>=0&&e[memoryCheck].classList.remove("_check"),e[t].classList.add("_check");const o=e[t].textContent;servicesTitle&&(servicesTitle.innerHTML=o),window.scrollTo({top:0,behavior:"smooth"}),localStorage.id=t,memoryCheck=t}))}}}let oryol=document.getElementById("button__oryol"),maloarkhangelsk=document.getElementById("button__maloarkhangelsk"),contactsContent=document.querySelector(".contacts__content");oryol&&(oryol.onclick=function(){let e=document.querySelectorAll(".column-info__text"),t=document.querySelector(".column-info__title"),i=document.querySelector(".column-map__wrapper"),o=document.querySelectorAll(".column-pictures__img");t.innerHTML="Контакты в Орле",e[0].children[0].innerHTML="Контакты в Орле",e[0].children[1].innerHTML="+7 (920) 800-44-66",e[1].children[0].href="oleg@petrushin.biz",e[1].children[0].innerHTML="oleg@petrushin.biz",e[2].innerHTML="Работаем с понедельника по пятницу с 9.00 до 18.00  суббота, воскресенье – выходной.",e[3].innerHTML='г. Малоархангельск, ул. Калинина, д. 13, 3 этаж, СЦ "Девайс-Мастер"',e[4].children[0].href="vk.com/dev_mast",e[4].children[0].innerHTML="vk.com/dev_mast",i.innerHTML='<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1201.6802631187134!2d36.0701520885959!3d52.9599285319261!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x41321a75ccea73bb%3A0x76cd4c2836125906!2z0JTQtdCy0LDQudGBINC80LDRgdGC0LXRgA!5e0!3m2!1sru!2sua!4v1618134276884!5m2!1sru!2sua" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>',o[0].innerHTML='<img src="img/contacts/img_1.jpg" alt="">',o[1].innerHTML='<img src="img/contacts/img_2.jpg" alt="">'}),maloarkhangelsk&&(maloarkhangelsk.onclick=function(){let e=document.querySelectorAll(".column-info__text"),t=document.querySelector(".column-info__title"),i=document.querySelector(".column-map__wrapper"),o=document.querySelectorAll(".column-pictures__img");t.innerHTML="Контаты в Малоархангельске",e[0].children[0].innerHTML="Контаты в Малоархангельске",e[0].children[1].innerHTML="+7 (920) 111-11-11",e[1].children[0].href="dima@petrushin.biz",e[1].children[0].innerHTML="dima@petrushin.biz",e[2].innerHTML="Работаем с понедельника по пятницу с 8.00 до 17.00, субота с 9.00 до 13.00, воскресенье – выходной.",e[3].innerHTML='г. Малоархангельск, ул. Калинина, д. 13, 3 этаж, СЦ "Девайс-Мастер"',e[4].children[0].href="vk.com/dev_mast_malArhg",e[4].children[0].innerHTML="vk.com/dev_mast_malArhg",i.innerHTML='<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3442.4436896204343!2d36.50562684147156!3d52.40349948474344!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x412e23844b5501d5%3A0x2af636a94946a9bf!2sWestern%20Union!5e0!3m2!1sru!2sua!4v1618325882421!5m2!1sru!2sua" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>',o[0].innerHTML='<img src="img/contacts/img_arh_1.jpg" alt="">',o[1].innerHTML='<img src="img/contacts/img_arh_2.jpg" alt="">'});let memoryCheckСatalog,memoryCheckСatalogItem,listCatalogCategory=document.querySelectorAll(".list-catalog__category > p"),CatalogCategoryActive=document.querySelectorAll(".list-catalog__category"),catalogWay=document.querySelector(".catalog__way"),catalogWayLink=document.querySelectorAll(".catalog__way > a"),categoryItems=document.querySelectorAll(".category__items"),categoryItem=document.querySelectorAll(".category__item > p"),mass=["<a>Главная</a>"];function SavingHistory(){let e="";for(let t=0;t<mass.length;t++)e+=mass[t];catalogWay.innerHTML=e}function LinkHistory(){if(catalogWayLink=document.querySelectorAll(".catalog__way > a"),catalogWayLink.length>0)for(let e=0;e<catalogWayLink.length;e++)catalogWayLink[e].addEventListener("click",(function(t){if(console.log(e),0===e){let e;_slideUp(categoryItems[memoryCheckСatalog]),e=document.querySelector("._active"),e&&e.classList.remove("_active"),e=document.querySelector("._focus"),e&&e.classList.remove("_focus"),e=document.querySelector("._active-item"),e&&e.classList.remove("_active-item"),mass.length=1,SavingHistory()}if(1===e){let e=document.querySelector("._active-item");e&&e.classList.remove("_active-item"),mass.length=2,SavingHistory()}LinkHistory()}))}if(listCatalogCategory.length>0)for(let e=0;e<listCatalogCategory.length;e++){listCatalogCategory[e].addEventListener("click",(function(t){void 0===memoryCheckСatalog?(_slideDown(categoryItems[e]),listCatalogCategory[e].classList.add("_active"),CatalogCategoryActive[e].classList.add("_focus")):memoryCheckСatalog==e?(_slideToggle(categoryItems[e]),listCatalogCategory[e].classList.toggle("_active"),CatalogCategoryActive[e].classList.toggle("_focus")):memoryCheckСatalog>=0&&(_slideUp(categoryItems[memoryCheckСatalog]),listCatalogCategory[memoryCheckСatalog].classList.remove("_active"),CatalogCategoryActive[memoryCheckСatalog].classList.remove("_focus"),_slideDown(categoryItems[e]),listCatalogCategory[e].classList.add("_active"),CatalogCategoryActive[e].classList.add("_focus")),memoryCheckСatalog=e}))}let ItemText=document.querySelectorAll(".product-item__text");function textСontrol(e){if(ItemText)for(let t=0;t<ItemText.length;t++){let i=ItemText[t].textContent.split("");i.length>=e&&(i.length=e-1,i.push("...")),ItemText[t].innerHTML=i.join("")}}textСontrol(99);let ItemPositionList=document.querySelector(".view-menu__list"),ItemPositionMatrix=document.querySelector(".view-menu__matrix"),productsList=document.querySelector(".products-list"),productItem=document.querySelectorAll(".product-item"),productItemImg=document.querySelector(".product-item__img");function offset(e){var t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+i}}ItemPositionList&&ItemPositionList.addEventListener("click",(function(e){productsList.classList.remove("_matrix"),productsList.classList.add("_list");for(let e=0;e<productItem.length;e++){productItem[e].classList.remove("_matrix"),productItem[e].classList.add("_list");let t=productItem[e].querySelector(".product-item__column"),i=productItem[e].querySelector(".product-item__column-info"),o=productItem[e].querySelector(".product-item__img"),n=productItem[e].querySelector(".product-item__title"),l=productItem[e].querySelector(".product-item__text"),r=productItem[e].querySelector(".product-item__price"),c=productItem[e].querySelector(".product-item__buttons-list");t.insertBefore(o,t.children[0]),t.insertBefore(c,t.children[1]),i.insertBefore(n,i.children[0]),i.insertBefore(l,i.children[1]),i.insertBefore(r,i.children[2])}textСontrol(185)})),ItemPositionMatrix&&ItemPositionMatrix.addEventListener("click",(function(e){productsList.classList.remove("_list"),productsList.classList.add("_matrix");for(let e=0;e<productItem.length;e++){productItem[e].classList.remove("_list"),productItem[e].classList.add("_matrix");let t=productItem[e].querySelector(".product-item__column"),i=productItem[e].querySelector(".product-item__column-info"),o=t.querySelector(".product-item__img"),n=i.querySelector(".product-item__title"),l=i.querySelector(".product-item__text"),r=i.querySelector(".product-item__price"),c=t.querySelector(".product-item__buttons-list");productItem[e].insertBefore(o,productItem[e].children[0]),productItem[e].insertBefore(n,productItem[e].children[1]),productItem[e].insertBefore(l,productItem[e].children[2]),productItem[e].insertBefore(r,productItem[e].children[3]),productItem[e].insertBefore(c,t.children[4])}textСontrol(99)}));let listCatalog=document.querySelector(".list-catalog");if(listCatalog){let e=offset(listCatalog),t=document.querySelector(".catalog__fixed-list");window.addEventListener("scroll",(function(){window.screen.width>768&&(pageYOffset>=e.top-10&&(listCatalog.classList.add("_fixed"),t.style.minWidth=listCatalog.offsetWidth+"px"),pageYOffset<e.top-10&&(listCatalog.classList.remove("_fixed"),t.style.minWidth="0px"))}))}let catalogMenuIcon=document.querySelector(".catalog-menu__icon"),catalogMenuBody=document.querySelector(".catalog-menu__body");catalogMenuIcon&&catalogMenuIcon.addEventListener("click",(function(e){_slideToggle(catalogMenuBody),catalogMenuIcon.classList.toggle("_active")}));let VMFilter=document.querySelector(".view-menu__filter"),VMswitchesAdaptiv=document.querySelector(".view-menu__switches-adaptiv");VMFilter&&VMFilter.addEventListener("click",(function(e){_slideToggle(VMswitchesAdaptiv),VMFilter.classList.toggle("_active")}));let С_ProductsList=document.querySelector(".products-list");if(С_ProductsList){let e=С_ProductsList.querySelectorAll(".product-item"),t=[];if(e.length>0)for(let i=0;i<e.length;i++){e[i].querySelector(".buttons-list__compare").addEventListener("click",(function(o){t.push(e[i].getAttribute("data-id")),console.log(t)}))}}let subtitleSection=document.querySelectorAll(".item-content__subtitle-section > p"),tabContent=document.querySelectorAll(".tab-content > div");if(subtitleSection.length>0){let e=0;for(let t=0;t<subtitleSection.length;t++)subtitleSection[t].addEventListener("click",(function(i){for(let t=0;t<subtitleSection.length;t++)subtitleSection[t].classList.contains("_active")&&(e=t);subtitleSection[e].classList.remove("_active"),subtitleSection[t].classList.add("_active"),tabContent[e].classList.remove("_active"),tabContent[t].classList.add("_active")}))}let linkFeedback=document.querySelector(".tab-reviews__link-feedback"),reviewForm=document.querySelector(".tab-reviews__review-form");if(linkFeedback){let e;linkFeedback.addEventListener("click",(function(t){e=!!reviewForm.classList.contains("_active"),0==e?(_slideDown(reviewForm),linkFeedback.innerHTML="Закрыть",reviewForm.classList.add("_active")):1==e&&(_slideUp(reviewForm),linkFeedback.innerHTML="Оставить отзыв",reviewForm.classList.remove("_active"))}))}let RevInfoLink=document.querySelectorAll(".reviews-info__links > p");if(RevInfoLink.length>0)for(let e=0;e<RevInfoLink.length;e++)RevInfoLink[e].addEventListener("click",(function(t){0==e?(subtitleSection[0].classList.remove("_active"),subtitleSection[1].classList.add("_active"),tabContent[0].classList.remove("_active"),tabContent[1].classList.add("_active")):1==e&&(subtitleSection[0].classList.remove("_active"),subtitleSection[1].classList.add("_active"),tabContent[0].classList.remove("_active"),tabContent[1].classList.add("_active"),reviewForm.classList.contains("_active")||(_slideDown(reviewForm),linkFeedback.innerHTML="Закрыть",reviewForm.classList.add("_active")))}));const ratings=document.querySelectorAll(".stars");let ratingAll=4;function initRatings(){let e,t;for(let e=0;e<ratings.length;e++){i(ratings[e])}function i(i){o(i),i.classList.contains("stars-general")?function(){if(ratingAll>0){const t=ratingAll/.05;e.style.width=t+"%"}}():n(),i.classList.contains("stars_set")&&function(e){const i=e.querySelectorAll(".stars__item");for(let l=0;l<i.length;l++){const r=i[l];r.addEventListener("mouseenter",(function(t){o(e),n(r.value)})),r.addEventListener("mouseleave",(function(e){n()})),r.addEventListener("click",(function(i){o(e),e.dataset.ajax?setRatingValue(r.value,e):(t.innerHTML=l+1,RatingActiveWidth())}))}}(i)}function o(i){e=i.querySelector(".stars__active"),t=i.querySelector(".stars__value")}function n(i=t.innerHTML){const o=i/.05;e.style.width=o+"%"}}ratings.length>0&&initRatings();